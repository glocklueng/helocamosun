#summary Discussion about the stability control algorithms.

= Introduction =

This is a discussion about how the helicopter's stability algorithms will work.
A good starting point for reference is [http://en.wikipedia.org/wiki/PID_controller this] wikipedia article

= Cyclic Stability =

This aspect must be broken down into 2 parts.
  * forward/reverse pitch 
  * side to side roll

Forward/Reverse

Proportional: This is the absolute pitch angle of the helocopter which is read in for every iteration of the PID loop.

Integral: Each loop of the control adds the pitch angle divided by the time elapsed since last loop execution.  An accumulated error is built up.

Derivative: A gyroscope that reads the rate of tilt can be sampled.

Solution: The solution is a cyclic correction in the front/back direction
C code:

{{{
//constants that will need to be empirically derived or mathematically calculated
#define PropConst = 1
#define IntConst = 1
#defion DerConst = 1

//variable declarations:
long Time;
int Proportion;
int Integral = 0;
int Derivative;
int Correction;
long LastTime;

//Loop:
//ReadForwardBackTilt() returns the tilt forward or backward as a scaled integer
//GetTime() returns a long integer with the current system time
//ReadGyro() returns an int with the scaled rate of tilt forward or backward
while(1)
{
  Proportion = ReadForwardBackTilt() * PropConst;
  Integral += ReadForwardBackTilt() / (Time - LastTime) * IntConst;
  Derivative = ReadGyro() * DerConst;
  Correction = Proportion + Integral + Derivative;
  LastTime = ++Time;
}

}}}







